<div class="card" id="scraps-section">
    <div class="card-header">
        <h2 class="card-title"><span class="icon">ğŸ“</span> Scraps</h2>
    </div>

    <!-- Add Scrap Form -->
    <form hx-post="/api/scrap" hx-swap="none" hx-on::after-request="this.reset()" style="margin-bottom: 1rem;">
        <div class="input-group">
            <input type="text" name="content" placeholder="Add a note or scrap..." required autocomplete="off">
            <button type="submit">
                <span>ğŸ“Œ</span> Add
            </button>
        </div>
    </form>

    <!-- Scrap List -->
    {% if scraps and scraps|length > 0 %}
    <div class="scrap-list" id="scrap-list-container">
        {% for scrap in scraps %}
        <div class="scrap-item">
            <div class="scrap-time">{{ scrap.created_at }}</div>
            <div class="scrap-content scrap-markdown">{{ scrap.content_html | safe }}</div>
        </div>
        {% endfor %}
    </div>

    <script>
        // Scroll scrap list to bottom after content loads
        (function () {
            const scrapList = document.getElementById('scrap-list-container');
            if (scrapList) {
                scrapList.scrollTop = scrapList.scrollHeight;
            }
        })();
    </script>
    {% else %}
    <div class="empty-state">
        <div class="icon">ğŸ“</div>
        <p>No scraps yet. Record your thoughts and progress!</p>
    </div>
    {% endif %}
</div>